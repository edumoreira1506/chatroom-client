(this["webpackJsonpchatroom-client"]=this["webpackJsonpchatroom-client"]||[]).push([[0],{45:function(e,t,a){e.exports=a(86)},77:function(e,t){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(39),o=a.n(r),m=a(14),u=a(15),i=a(7),l=a(40),s=a.n(l),f="/chat",p="/login",h=function(){window.localStorage.clear(),window.location.href=p},g=function(){return Boolean(_())},_=function(){return window.localStorage.getItem("username")},E=function(e){return _()===e},b=function(e){var t=e.component,a=Object(u.a)(e,["component"]),n=g(),r=_();return c.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?c.a.createElement(t,Object.assign({},e,{username:r})):c.a.createElement(i.a,{to:{pathname:p,state:{from:e.location}}})}}))},d=function(e){var t=e.component,a=Object(u.a)(e,["component"]),n=g();return c.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?c.a.createElement(i.a,{to:{pathname:f,state:{from:e.location}}}):c.a.createElement(t,e)}}))},v=a(10),N=(a(84),function(){var e=Object(n.useState)(""),t=Object(v.a)(e,2),a=t[0],r=t[1];return c.a.createElement("section",{className:"Login"},c.a.createElement("div",{className:"Login__title"},c.a.createElement("h2",{className:"Login__title-text"},"MultroomChat - Login")),c.a.createElement("div",{className:"Login__form-area"},c.a.createElement("form",{className:"Login__form",onSubmit:function(e){e.preventDefault(),function(e){window.localStorage.setItem("username",e),window.location.href=f}(a)}},c.a.createElement("input",{className:"Login__input",type:"text",placeholder:"Nome aleat\xf3rio ai caraio",required:!0,value:a,onChange:function(e){return r(e.target.value)}}),c.a.createElement("input",{className:"Login__input",type:"submit",value:"Submit",required:!0}))))}),C=a(44),j=function(e,t){return{username:e,message:t}},O=function(e){return Boolean(e)},w=a(43),S=a.n(w),x=(a(85),function(e){var t=e.username;return S()("Chat__message",{"Chat__message--black":E(t),"Chat__message--grey":!E(t)})}),L=function(e){var t=e.username,a=Object(n.useState)(""),r=Object(v.a)(a,2),o=r[0],m=r[1],u=Object(n.useState)([]),i=Object(v.a)(u,2),l=i[0],f=i[1],p=Object(n.useState)(null),g=Object(v.a)(p,2),_=g[0],E=g[1],b=function(e){f((function(t){return[].concat(Object(C.a)(t),[e])}))},d=function(e){!function(e,t){O(e)?t.onValidated():t.onError("Tamanho da mensagem inv\xe1lida!")}(e,{onError:function(e){return alert(e)},onValidated:function(){var a=j(t,e);_.emit("message",a),b(a)}})};return Object(n.useEffect)((function(){var e=s.a.connect("http://chatroom-server-edumoreira1506.herokuapp.com/");e.on("connect",(function(){E(e);var a=j(t,"".concat(t," acabou de entrar"));e.emit("message",a),e.on("message",b)}))}),[t]),c.a.createElement("section",{className:"Chat"},c.a.createElement("ul",{className:"Chat__content"},l.map((function(e,t){return c.a.createElement("li",{className:x(e),key:t},c.a.createElement("div",{className:"Chat__username"},e.username),c.a.createElement("div",{className:"Chat__message-text"},e.message))}))),c.a.createElement("div",{className:"Chat__submit-area"},c.a.createElement("form",{className:"Chat__form",onSubmit:function(e){e.preventDefault(),m(""),d(o)}},c.a.createElement("input",{type:"text",className:"Chat__input",value:o,onChange:function(e){return m(e.target.value)}}),c.a.createElement("input",{type:"submit",className:"Chat__submit-button"}))),c.a.createElement("button",{className:"Chat__logout",onClick:h},"Sair"))},y=function(){return c.a.createElement(m.a,null,c.a.createElement(d,{path:"/",exact:!0,component:N}),c.a.createElement(d,{path:"/login",exact:!0,component:N}),c.a.createElement(b,{path:"/chat",exact:!0,component:L}))};o.a.render(c.a.createElement(y,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.4b0e99ca.chunk.js.map